<!DOCTYPE html>
<html lang="en-us">
    <head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	
	<title>
		Validate any DOM element with the KendoUI validator &middot; Denis Kyashif&#39;s Blog
	</title>
	
	
  	<link rel="stylesheet" href="/css/style.css" />    
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Libre+Baskerville:400,400i,700">
	<link href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">
    <link rel="stylesheet" href="/assets/my.css">    
	
	<link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32.png">
	<link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16.png">
	<link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">
    <link rel="manifest" href="/site.webmanifest">
	
	
	<link href="" rel="alternate" type="application/rss+xml" title="Denis Kyashif&#39;s Blog" />
    <meta property="og:title" content="Validate any DOM element with the KendoUI validator" />
<meta property="og:description" content="Not only inputs." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://deniskyashif.com/validate-any-dom-element-with-the-kendoui-validator/" />

<meta property="og:image" content="https://deniskyashif.com/images/site-feature-image.png" />
<meta property="article:published_time" content="2016-05-30T00:00:00&#43;00:00"/>
<meta property="article:modified_time" content="2016-05-30T00:00:00&#43;00:00"/>

    
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
	ga('create', 'UA-133185625-1', 'auto');
	
	ga('send', 'pageview');
}
</script>

</head>

    <body>
        <a href="https://github.com/deniskyashif/blog" class="github-corner" target="_blank" aria-label="View source on GitHub"><svg width="80" height="80" viewBox="0 0 250 250" style="fill:#151513; color:#fff; position: absolute; top: 0; border: 0; right: 0;" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style>

<nav class="nav">
	<div class="nav-container">
        <a href="/">
			<h2 class="nav-title">Denis Kyashif&#39;s Blog</h2>
		</a>
		<ul>
    <li><a href="/">Posts</a></li>
    <li><a href="/about">About</a></li>
    <li><a href="/speaking">Speaking</a></li>
</ul>

	</div>
</nav>

        

<main>
	<div class="post">
		<div class="post-info">
    <time datetime="2016-05-30 00:00:00 &#43;0000 UTC">May 30, 2016</time>

    
    <div class="tags">
        
        
        
        <a href="https://deniskyashif.com/tags/javascript/" class="tag">javascript</a>
        
        
        
        
        <a href="https://deniskyashif.com/tags/kendoui/" class="tag">kendoui</a>
        
        
    </div>
</div>

		<h1 class="post-title">Validate any DOM element with the KendoUI validator</h1>
<div class="post-line"></div>

		

		

<p>KendoUI&rsquo;s validator allows declaring rules and easily performing client-side validation for input and textarea elements. It offers great flexibility even when it comes to complex cases, when for example input fields are interconnected. Suppose we want to validate an element other than input or textarea, then calling <code>validate()</code> won&rsquo;t be enough.</p>

<h2 id="the-problem">The Problem</h2>

<p>Let&rsquo;s have a form consisting of a textarea and a grid.</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">&lt;<span style="color:#008000;font-weight:bold">form</span> <span style="color:#b44">id</span><span style="color:#666">=</span><span style="color:#b44">&#34;form&#34;</span>&gt;
  &lt;<span style="color:#008000;font-weight:bold">textarea</span> <span style="color:#b44">name</span><span style="color:#666">=</span><span style="color:#b44">&#34;text&#34;</span>&gt;
    Our world is a magical smoke screen
  &lt;/<span style="color:#008000;font-weight:bold">textarea</span>&gt;
  &lt;<span style="color:#008000;font-weight:bold">div</span> <span style="color:#b44">id</span><span style="color:#666">=</span><span style="color:#b44">&#34;grid&#34;</span>&gt;&lt;/<span style="color:#008000;font-weight:bold">div</span>&gt;
  &lt;<span style="color:#008000;font-weight:bold">button</span> <span style="color:#b44">id</span><span style="color:#666">=</span><span style="color:#b44">&#34;validate&#34;</span>&gt;Validate&lt;/<span style="color:#008000;font-weight:bold">button</span>&gt;
&lt;/<span style="color:#008000;font-weight:bold">form</span>&gt;</code></pre></div>
<p>We want to ensure the textarea&rsquo;s value is not longer than 20 characters and the grid contains at least two rows. To do so, we declare our validation rules in the following way:</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#a2f;font-weight:bold">var</span> validator <span style="color:#666">=</span> $(<span style="color:#b44">&#39;#form&#39;</span>).kendoValidator({
  messages<span style="color:#666">:</span> {
    text<span style="color:#666">:</span> <span style="color:#b44">&#39;Field must contain at most 20 symbols.&#39;</span>,
    grid<span style="color:#666">:</span> <span style="color:#b44">&#39;The grid must contain at least two rows.&#39;</span>
  },
  rules<span style="color:#666">:</span> {
    text<span style="color:#666">:</span> <span style="color:#a2f;font-weight:bold">function</span>(item) { 
      <span style="color:#a2f;font-weight:bold">if</span> (item.is(<span style="color:#b44">&#39;[name=text]&#39;</span>)) {
        <span style="color:#a2f;font-weight:bold">return</span> item.val().length <span style="color:#666">&lt;</span> <span style="color:#666">20</span>;
      }
      <span style="color:#a2f;font-weight:bold">return</span> <span style="color:#a2f;font-weight:bold">true</span>;
    },
    grid<span style="color:#666">:</span> <span style="color:#a2f;font-weight:bold">function</span>(item) {
      <span style="color:#a2f;font-weight:bold">if</span> (item.is(<span style="color:#b44">&#39;[data-role=grid]&#39;</span>)) {
        <span style="color:#a2f;font-weight:bold">var</span> grid <span style="color:#666">=</span> item.getKendoGrid();
        <span style="color:#a2f;font-weight:bold">return</span> grid.dataItems().length <span style="color:#666">&gt;</span> <span style="color:#666">1</span>;
      }
      <span style="color:#a2f;font-weight:bold">return</span> <span style="color:#a2f;font-weight:bold">true</span>;
    }
  }
}).data(<span style="color:#b44">&#39;kendoValidator&#39;</span>);
</code></pre></div>
<p>Calling <code>validator.validate()</code> however checks only the textarea element. So I decided to peek in the KendoUI internals to get a better understanding of how the validator works. You can check the code <a href="https://github.com/telerik/kendo-ui-core/blob/25e8c5c5ccd176268e8ec9b2dad3722642898970/src/kendo.validator.js#L279">here</a>.</p>

<p><strong>TL;DR:</strong> The validate function traverses all the input fields, apart from <em>&ldquo;submit&rdquo;</em>, <em>&ldquo;reset&rdquo;</em>, <em>&ldquo;button&rdquo;</em>, <em>&ldquo;disabled&rdquo;</em> and <em>&ldquo;readonly&rdquo;</em> types and applies the validation rules to them. No wonder why the grid gets omitted.</p>

<h2 id="validateinput-to-the-rescue"><code>validateInput</code> to the rescue</h2>

<p>This function lets us specify explicitly to which element we want to apply our rules. There is no type constraint whatsoever(although it has &ldquo;input&rdquo; in its name). We can also see that <code>validate</code> internally delegates the validation logic for each separate field by passing it to <code>validateInput</code>. Therefore we have to add the following line to our validation code.</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#a2f;font-weight:bold">var</span> isValid <span style="color:#666">=</span> validator.validate() <span style="color:#666">&amp;&amp;</span> validator.validateInput(<span style="color:#b44">&#39;#grid&#39;</span>);
</code></pre></div>

		<section class="social-share">
    
    
    <a href="//twitter.com/share?url=https%3a%2f%2fdeniskyashif.com%2fvalidate-any-dom-element-with-the-kendoui-validator%2f&amp;text=Validate%20any%20DOM%20element%20with%20the%20KendoUI%20validator&amp;via=deniskyashif" target="_blank" class="share-btn twitter">
        <i class="fa fa-2x fa-twitter"></i>
    </a>
    
    
    
    <a href="//reddit.com/submit?url=https%3a%2f%2fdeniskyashif.com%2fvalidate-any-dom-element-with-the-kendoui-validator%2f&amp;title=Validate%20any%20DOM%20element%20with%20the%20KendoUI%20validator" target="_blank" class="share-btn reddit">
        <i class="fa fa-2x fa-reddit-alien"></i>
    </a>
    
    
    
    <a href="//www.facebook.com/sharer/sharer.php?u=https%3a%2f%2fdeniskyashif.com%2fvalidate-any-dom-element-with-the-kendoui-validator%2f" target="_blank" class="share-btn facebook">
        <i class="fa fa-2x fa-facebook"></i>
    </a>
    
    
    
    <a href="//www.linkedin.com/shareArticle?url=https%3a%2f%2fdeniskyashif.com%2fvalidate-any-dom-element-with-the-kendoui-validator%2f&amp;title=Validate%20any%20DOM%20element%20with%20the%20KendoUI%20validator" target="_blank" class="share-btn linkedin">
        <i class="fa fa-2x fa-linkedin"></i>
    </a>
    
    
    
    
    
    <a href="mailto:?subject=Check out 'Validate%20any%20DOM%20element%20with%20the%20KendoUI%20validator' by Denis%20Kyashif&amp;body=https%3a%2f%2fdeniskyashif.com%2fvalidate-any-dom-element-with-the-kendoui-validator%2f" target="_blank" class="share-btn email">
        <i class="fa fa-2x fa-envelope"></i>
    </a>
    
</section>

<div id="disqus_thread"></div>
<script type="application/javascript">
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "deniskyashif" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>




	</div>

	<div class="pagination">
		<a href="/bring-.net-development-into-your-favourite-editor-with-omnisharp/" class="left arrow">&#8592;</a>
		<a href="/impressions-from-emea-pug-challenge-2016/" class="right arrow">&#8594;</a>

		<a href="#" class="top">Top</a>
	</div>
</main>


        <footer>
	<span>
		&copy; <time datetime="2019-06-06 10:33:09.529891 &#43;0300 EEST m=&#43;0.189685523">2019</time> Denis Kyashif
	</span>
    <br/>
</footer>

    </body>
</html>
